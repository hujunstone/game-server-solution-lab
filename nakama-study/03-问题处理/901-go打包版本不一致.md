
1. 要求 build 的 docker 版本一致
2. 要求 go 和 docker 镜像的版本一致
3. go.mod 里面的也要一致

# 重装 go 
cd /usr/local 
rm go
tar -C /usr/local -xzf go1.21.6.linux-amd64.tar.gz


## 拉取镜像
docker pull heroiclabs/nakama-pluginbuilder:3.21.1



## 重启并看日志
docker-compose down

git pull

打包
构建
并且加入代理
```
docker run --rm \
  -v "$PWD:/backend" \
  -w /backend \
  -e GOPROXY="https://mirrors.aliyun.com/goproxy/,direct" \
  -e GOSUMDB="sum.golang.google.cn" \
  heroiclabs/nakama-pluginbuilder:3.21.1 \
  build --trimpath --mod=readonly --buildmode=plugin -o ./data/modules/backend.so .
```

docker-compose up -d

docker-compose logs -f nakama






