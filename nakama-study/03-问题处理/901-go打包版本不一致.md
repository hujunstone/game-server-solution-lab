
# 要求go的版本一致
1. 要求 nakama-pluginbuilder 和 nakama 的 docker 版本一致
2. 要求 ubuntu go 和 nakama docker 镜像的版本一致
3. go.mod 里面 go 的版本也要一致

# 重装 go 
cd /usr/local 
rm go

```
tar -C /usr/local -xzf go1.21.6.linux-amd64.tar.gz
vim ~/.bash_profile 
# 加上这行
export PATH=$PATH:/usr/local/go/bin
```
检查，在~/.bashrc文件下加上"source /etc/profile"命令

## 拉取镜像
docker pull heroiclabs/nakama-pluginbuilder:3.21.1

## 重启并看日志
docker-compose down
git pull
执行如下命令 打包 构建 并且加入代理
```
docker run --rm \
  -v "$PWD:/backend" \
  -w /backend \
  -e GOPROXY="https://mirrors.aliyun.com/goproxy/,direct" \
  -e GOSUMDB="sum.golang.google.cn" \
  heroiclabs/nakama-pluginbuilder:3.21.1 \
  build --trimpath --mod=readonly --buildmode=plugin -o ./data/modules/backend.so .
```
启动
docker-compose up -d
看日志
docker-compose logs -f nakama
