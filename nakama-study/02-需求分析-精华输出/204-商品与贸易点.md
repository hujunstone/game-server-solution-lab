
商品配额表里面写的是世界的还是某个城市的，感觉像是玩家可以买的
问题 商品的买卖 应该是产地附近价格低吧 但是自己贩运到哪卖呢

贸易点这些的感觉要仔细设计，一般省市区这些的怎么设计拆分为更小的问题讨论
我感觉商品这些应该有产地吧，产地价格较低，商品价格这个也挺复杂，涉及地点这些的数据结构和表该怎么设计，原则是什么
应该有一些通用的 

城市

问题 
1. 那几个系数 k_d k_p k_r 是全局统一的还是分城市不一样的
      答 这3个是全局统一
   `Rarity` (稀有度) `DemandShock` / `SupplyShock` (供需波动), `GlobalFactor` (全局平衡) `TaxMarkup` (税差)
      这几个分商品，前期可以都全局统一
  单位是否应该是万分之一还是百分之一
那几个全局的变量感觉应该是配置，后期应该搞个配置中心

走商路是不是当前不用考虑补给消耗，文档中没找到补给消耗相关的
商栈可以补充哪些物资啊
  商栈两个功能，呼叫支援 和补充物资

商品品类 
商品基础信息 商品的全局信息

商途 需要消耗补给 补给不足后需要在商栈补充

影响价格最大的还是偏好度

商品-城市表 
  是否产地
  商品稀有度-影响可购买量
  本地偏好度
  商品供应量或者当前城市市场总量

城市表
  城市发展度

感觉每种商品应该有个不断输入和消耗的量 应该在产地不断的有一个输入的量 不过太复杂了
一个世界系统 全世界的需求和供应 如果供大于求就会输入就会收缩 一般会影响第二年的总产量 
应该有一个需求和供给的表 超出的就


商品品类表（米粮、杂食、布帛等）
```sql
CREATE TABLE IF NOT EXISTS trade_goods_category (
    category_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),  -- 主键ID
    code STRING NOT NULL UNIQUE,                   -- 品类编码，如 "MILIANG"、"ZASHI"
    name STRING NOT NULL,                          -- 品类名称，如 "米粮"
    description STRING,                            -- 说明：典型商品等
    created_at TIMESTAMPTZ NOT NULL DEFAULT now(), -- 创建时间
    updated_at TIMESTAMPTZ NOT NULL DEFAULT now()  -- 更新时间
);
COMMENT ON TABLE trade_goods_category IS '商品品类表：米粮、杂食、布帛、皮货等';
COMMENT ON COLUMN trade_goods_category.code IS '品类编码，供程序使用的唯一标识';
COMMENT ON COLUMN trade_goods_category.name IS '品类名（展示用）';
COMMENT ON COLUMN trade_goods_category.description IS '品类说明：典型商品列表等';
```

商品基础信息表（具体商品：小麦、汾酒等）
```sql
CREATE TABLE IF NOT EXISTS trade_good (
    trade_good_id   UUID PRIMARY KEY DEFAULT gen_random_uuid(),   -- 主键ID
    category_id     UUID  NOT NULL REFERENCES trade_goods_category (id), -- 所属品类ID
    code            STRING NOT NULL UNIQUE,                       -- 商品编码，如 "XIAOMAI"、"FENJIU"
    name            STRING NOT NULL,                              -- 商品名称：小麦、汾酒
    base_price      INT    NOT NULL,                              -- 基准价（单位：文）
    base_stack      INT    NOT NULL,                              -- 基础一“件”数量配置，如 30件一组
    rarity          FLOAT  NOT NULL DEFAULT 1.0,                  -- 稀有度系数 Rarity（>1 表示稀有）
    base_quota      INT    NOT NULL DEFAULT 0,                    -- 基础配额 BaseQuota
    is_exclusive    BOOL   NOT NULL DEFAULT false,                -- 是否专营：如茶、盐等
    star            SMALLINT    NOT NULL DEFAULT 0,               -- 星级星级，星级越高表示价值越高
    note            STRING,                                       -- 备注，如“★★★”说明等
    created_at      TIMESTAMPTZ NOT NULL DEFAULT now(),           -- 创建时间
    updated_at      TIMESTAMPTZ NOT NULL DEFAULT now()            -- 更新时间
);
COMMENT ON TABLE trade_goods IS '商品基础信息表：具体商品配置（小麦、汾酒等）';
COMMENT ON COLUMN trade_goods.category_id   IS '商品品类ID，外键到 trade_goods_category';
COMMENT ON COLUMN trade_goods.base_price    IS '基准价格 BasePrice，单位：文';
COMMENT ON COLUMN trade_goods.base_stack    IS '基础数量单位（如60文/30件中的30件）';
COMMENT ON COLUMN trade_goods.rarity        IS '稀有度系数 Rarity，用于配额及价格调整';
COMMENT ON COLUMN trade_goods.base_quota    IS '基础配额 BaseQuota，用于计算玩家可购/可售数量';
COMMENT ON COLUMN trade_goods.is_exclusive  IS '是否专营商品（茶、盐等需要特殊权限）';
COMMENT ON COLUMN trade_goods.star          IS '星级，星级越高表示价值越高';
```

